-- [[ Humanx1 Ultimate Loader - Full Cleanup System ]]

local Player = game.Players.LocalPlayer
local MyName = Player.Name

-- 1. ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ VIP
_G.VIP_LIST = _G.VIP_LIST or {
    ["A_ASPD"] = true,
    ["ffsww_1007"] = true,
    ["HACKER_18050"] = true,
    ["evils915"] = true,
    ["TV_BTS1"] = true
}

-- 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏ß‡∏≤‡∏î‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÄ‡∏Å‡πà‡∏≤ (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡∏ó‡∏¥‡πâ‡∏á‡∏ï‡∏±‡∏ß‡∏ü‡∏£‡∏µ‡πÑ‡∏ß‡πâ)
local function CleanupExistingScripts()
    warn("üßπ Cleaning up Free Script...")

    -- [!] ‡∏´‡∏¢‡∏∏‡∏î Loop ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå (‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°)
    _G.Running = false
    _G.Enabled = false
    _G.Aura = false
    _G.AutoFarm = false
    
    -- [!] ‡∏•‡∏ö ScreenGui ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô CoreGui ‡πÅ‡∏•‡∏∞ PlayerGui
    -- (‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏•‡∏ö UI ‡∏ï‡∏±‡∏ß‡∏ü‡∏£‡∏µ‡∏ó‡∏¥‡πâ‡∏á)
    local locations = {game:GetService("CoreGui"), Player:WaitForChild("PlayerGui")}
    for _, location in pairs(locations) do
        for _, v in pairs(location:GetChildren()) do
            if v:IsA("ScreenGui") and not v.Name:match("Roblox") then
                v:Destroy()
            end
        end
    end

    -- [!] ‡∏•‡∏ö Connection ‡∏ï‡πà‡∏≤‡∏á‡πÜ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
    -- ‡∏ö‡∏≤‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ó‡∏¥‡πâ‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡πÑ‡∏ß‡πâ ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    task.wait(0.5)
end

-- 3. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå
local function RunVIP()
    CleanupExistingScripts()
    print("üíé Loading VIP: Kill Aura 20")
    task.defer(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/stampx85-byte/Humanx1/refs/heads/main/Kill%20Aura%2020"))()
    end)
end

local function RunFree()
    print("üÜì Loading Free: City Thailand 2")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/stampx85-byte/Humanx1/refs/heads/main/kill%20aura%20City%20Thailand%202"))()
end

-- 4. ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏ä‡∏ó‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î (‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡∏ü‡∏£‡∏µ‡∏£‡∏π‡πâ‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ)
local function findByPartialName(name)
    name = name:lower()
    for _, p in pairs(game.Players:GetPlayers()) do
        if p.Name:lower():sub(1, #name) == name then return p end
    end
end

local function ListenChat(speaker, msg)
    local args = msg:split(" ")
    if args[1]:lower() == "!givevip" and args[2] then
        if _G.VIP_LIST[speaker.Name] then -- ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏õ‡πá‡∏ô VIP
            local target = findByPartialName(args[2])
            if target == Player then
                _G.VIP_LIST[Player.Name] = true
                RunVIP() -- ‡∏™‡∏±‡πà‡∏á Cleanup ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô VIP ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            end
        end
    end
end

-- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏ä‡∏ó
for _, p in pairs(game.Players:GetPlayers()) do p.Chatted:Connect(function(msg) ListenChat(p, msg) end) end
game.Players.PlayerAdded:Connect(function(p) p.Chatted:Connect(function(msg) ListenChat(p, msg) end) end)

-- 5. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
if _G.VIP_LIST[MyName] then
    RunVIP()
else
    RunFree()
end
