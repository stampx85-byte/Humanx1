-- [[ Humanx1 Loader - Safe VIP Switch (Chat Protected 100%) ]]

local Player = game.Players.LocalPlayer
local MyName = Player.Name

_G.VIP_LIST = _G.VIP_LIST or {
    ["A_ASPD"] = true,
    ["ffsww_1007"] = true,
    ["HACKER_18050"] = true,
    ["evils915"] = true,
    ["TV_BTS1"] = true
}

-- [!] ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ü‡∏£‡∏µ (‡πÄ‡∏ô‡πâ‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡πÑ‡∏°‡πà‡πÄ‡∏ô‡πâ‡∏ô‡∏•‡∏ö‡∏Å‡∏ß‡∏≤‡∏î‡∏•‡πâ‡∏≤‡∏á)
local function SafeStopFreeScript()
    warn("üßπ Stopping Free Script Logic...")

    -- 1. ‡∏™‡∏±‡πà‡∏á‡∏´‡∏¢‡∏∏‡∏î Loop (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
    _G.Running = false
    _G.Aura = false
    _G.KillAura = false

    -- 2. ‡∏•‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞ ScreenGui ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ç‡∏≠‡∏á Roblox
    -- ‡∏Ñ‡∏£‡∏≤‡∏ß‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏ä‡πá‡∏Ñ "ClassName" ‡πÅ‡∏•‡∏∞ "Roblox" ‡πÉ‡∏´‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏∂‡πâ‡∏ô
    local coreGui = game:GetService("CoreGui")
    for _, v in pairs(coreGui:GetChildren()) do
        if v:IsA("ScreenGui") then
            -- ‡∏ñ‡πâ‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 'Roblox' ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà 'Chat' ‡∏´‡∏£‡∏∑‡∏≠ 'ExperienceChat' ‡πÉ‡∏´‡πâ‡∏•‡∏ö
            local isRoblox = v.Name:lower():find("roblox") or v.Name:lower():find("chat") or v.Name:lower():find("playerlist")
            
            if not isRoblox then
                v:Destroy() -- ‡∏•‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞ UI ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏Å‡∏õ‡∏•‡∏≠‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤
            end
        end
    end
    
    task.wait(0.5)
end

-- 3. ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ô VIP
local function UpgradeToVIP()
    SafeStopFreeScript()
    print("üíé [SYSTEM] VIP Activated: Running Kill Aura 20")
    task.defer(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/stampx85-byte/Humanx1/refs/heads/main/Kill%20Aura%2020"))()
    end)
end

-- 4. ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏ä‡∏ó
local function findByPartialName(name)
    name = name:lower()
    for _, p in pairs(game.Players:GetPlayers()) do
        if p.Name:lower():sub(1, #name) == name then return p end
    end
end

local function ListenChat(speaker, msg)
    local args = msg:split(" ")
    if args[1]:lower() == "!givevip" and args[2] then
        if _G.VIP_LIST[speaker.Name] then
            local target = findByPartialName(args[2])
            if target == Player then
                if not _G.VIP_LIST[Player.Name] then
                    _G.VIP_LIST[Player.Name] = true
                    UpgradeToVIP()
                end
            end
        end
    end
end

-- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏ä‡∏ó‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô
for _, p in pairs(game.Players:GetPlayers()) do 
    p.Chatted:Connect(function(msg) ListenChat(p, msg) end) 
end
game.Players.PlayerAdded:Connect(function(p) 
    p.Chatted:Connect(function(msg) ListenChat(p, msg) end) 
end)

-- 5. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
if _G.VIP_LIST[MyName] then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/stampx85-byte/Humanx1/refs/heads/main/Kill%20Aura%2020"))()
else
    loadstring(game:HttpGet("https://raw.githubusercontent.com/stampx85-byte/Humanx1/refs/heads/main/kill%20aura%20City%20Thailand%202"))()
end
